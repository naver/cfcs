/*! For license information please see aa020095.e81d4210.js.LICENSE.txt */
"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[3045],{7808:(e,n,t)=>{function r(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function o(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var r,o,a=t.call(e),i=[];try{for(;(void 0===n||n-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return i}function a(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(o(arguments[n]));return e}t.d(n,{tG:()=>I,_A:()=>l,XP:()=>s,qj:()=>_});var i=function(e){return void 0===e},u=function(){function e(e,n){var t,o;if(this._canceled=!1,n)try{for(var a=r(Object.keys(n)),i=a.next();!i.done;i=a.next()){var u=i.value;this[u]=n[u]}}catch(c){t={error:c}}finally{try{i&&!i.done&&(o=a.return)&&o.call(a)}finally{if(t)throw t.error}}this.eventType=e}var n=e.prototype;return n.stop=function(){this._canceled=!0},n.isCanceled=function(){return this._canceled},e}();const c=function(){function e(){this._eventHandler={}}var n=e.prototype;return n.trigger=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];var r=e instanceof u?e.eventType:e,o=a(this._eventHandler[r]||[]);return o.length<=0||(e instanceof u?(e.currentTarget=this,o.forEach((function(n){n(e)}))):o.forEach((function(e){e.apply(void 0,a(n))}))),this},n.once=function(e,n){var t=this;if("object"==typeof e&&i(n)){var r=e;for(var o in r)this.once(o,r[o]);return this}if("string"==typeof e&&"function"==typeof n){var u=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];n.apply(void 0,a(r)),t.off(e,u)};this.on(e,u)}return this},n.hasOn=function(e){return!!this._eventHandler[e]},n.on=function(e,n){if("object"==typeof e&&i(n)){var t=e;for(var r in t)this.on(r,t[r]);return this}if("string"==typeof e&&"function"==typeof n){var o=this._eventHandler[e];i(o)&&(this._eventHandler[e]=[],o=this._eventHandler[e]),o.push(n)}return this},n.off=function(e,n){var t,o;if(i(e))return this._eventHandler={},this;if(i(n)){if("string"==typeof e)return delete this._eventHandler[e],this;var a=e;for(var u in a)this.off(u,a[u]);return this}var c=this._eventHandler[e];if(c){var s=0;try{for(var l=r(c),f=l.next();!f.done;f=l.next()){if(f.value===n){c.splice(s,1),c.length<=0&&delete this._eventHandler[e];break}s++}}catch(d){t={error:d}}finally{try{f&&!f.done&&(o=l.return)&&o.call(l)}finally{if(t)throw t.error}}}return this},e.VERSION="3.0.4",e}();function s(e){return Object.keys(e)}function l(e){return e.replace(/[\s-_]([a-z])/g,(function(e,n){return n.toUpperCase()}))}function f(e){return"function"==typeof e}var d="__observers__",p="__computed__",m=1,v="__CFCS_DETECTED_DEPENDENCIES__";function h(e,n,t){if(t||2===arguments.length)for(var r,o=0,a=n.length;o<a;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return e.concat(r||Array.prototype.slice.call(n))}function g(){Object[v]=Object[v]||{};var e=Object[v];return e[m]=e[m]||[],e[m]}var y=function(){function e(e){this._emitter=new c,this._current=e}var n=e.prototype;return Object.defineProperty(n,"current",{get:function(){var e,n=(e=g())[e.length-1];return null==n||n.push(this),this._current},set:function(e){this._setCurrent(e)},enumerable:!1,configurable:!0}),n.subscribe=function(e){return this.current,this._emitter.on("update",e),this},n.unsubscribe=function(e){return this._emitter.off("update",e),this},n._setCurrent=function(e){var n=this._current,t=e!==n;this._current=e,t&&this._emitter.trigger("update",e,n)},n.toString=function(){return"".concat(this.current)},n.valueOf=function(){return this.current},e}();function b(e,n,t){void 0===t&&(t=n);var r={configurable:!0,get:function(){return N(this,t).current},set:function(e){N(this,t,e).current=e}};Object.defineProperty(e,n,r),t!==n&&Object.defineProperty(e,t,{configurable:!0,get:function(){return N(this,t).current}})}function k(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.length>1?b(e[0],e[1]):function(n,t){return b(n,t,e[0])}}function E(e){e.subscribe=function(e,n){this[e],N(this,e).subscribe(n)},e.unsubscribe=function(e,n){var t=this;e?e in this&&N(this,e).unsubscribe(n):s(j(this)).forEach((function(e){t.unsubscribe(e)}))}}function O(e,n){var t=f(e)?e():e,r={};return R(r),s(t).forEach((function(e){var n=t[e];w(n)?x(r,e,n):x(r,e,L(n)),k(e)(r,e)})),E(r),r}function _(e){return O(e)}function L(e){return new y(e)}function R(e){var n={};return Object.defineProperty(e,d,{get:function(){return n}}),n}function j(e,n){var t,r;e[d]||R(e);var o=e[d];if(!n){var a=null===(r=null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.prototype)||void 0===r?void 0:r[p];a&&a.forEach((function(n){!(n in o)&&n in e&&e[n]}))}return o}function N(e,n,t){var r=j(e);return r[n]||(r[n]=L(t)),r[n]}function x(e,n,t){j(e)[n]=t}function w(e){return e&&function(e){return"object"==typeof e}(e)&&"current"in e&&"subscribe"in e&&"unsubscribe"in e}function I(e,n){var t=f(e)?{setup:e}:e;function r(){var e,r,o,a,i;return null!==(i=null!==(o=null!==(e=null==n?void 0:n())&&void 0!==e?e:null===(r=t.props)||void 0===r?void 0:r.call(t))&&void 0!==o?o:null===(a=t.data)||void 0===a?void 0:a.call(t))&&void 0!==i?i:{}}var o=new c,a=[],i=[],u=[],l=[],d={current:null},p=[],m=null,v=[],g=[],y=function(e){a.push(e)},b=function(e){m=e},k=function(e){v=e},E=function(e){g=e};return t.setup&&(d.current=t.setup({getProps:r,setInitialState:b,setEvents:k,setMethods:E,onMounted:y,onDestroy:function(e){u.push(e)},onInit:function(e){i.push(e)},emit:function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];o.trigger.apply(o,h([e],n,!1))},on:function(e){l.push(e)}})||null),t.created&&(d.current=t.created(r())||null),t.events&&k(t.events),t.state&&b(t.state),t.methods&&E(t.methods),t.mounted&&y(t.mounted),t.destroy&&u.push(t.destroy),t.init&&i.push(t.init),t.on&&l.push((function(e,n,r){var o=t.on(e,n,r);return function(){var a;o&&o(),null===(a=t.off)||void 0===a||a.call(t,e,n,r)}})),{events:function(){return v},state:function(){var e=d.current;if(m)return m;if(e){var n=j(e);b(s(n).reduce((function(e,t){return e[t]=n[t].current,e}),{}))}return m||{}},instance:function(){return d.current},mounted:function(){var e=r();a.forEach((function(n){d.current=n(e,d.current)||d.current}))},init:function(){var e=d.current,n=r();p=v.map((function(e){var n=function(){for(var n,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];(n=o).trigger.apply(n,h([e],t,!1))},t=d.current;return l.map((function(r){return r(t,e,n)})).filter(Boolean)})),i.forEach((function(t){t(e,n)}))},destroy:function(){p.forEach((function(e){e.forEach((function(e){e()}))})),o.off();var e=d.current,n=r();u.forEach((function(t){t(e,n)}))},methods:function(){return e=d,t={},(n=g)?(n.forEach((function(n){t[n]=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var o=e.current||e.value;return o[n].apply(o,t)}})),t):t;var e,n,t},on:function(e,n){o.on(e,n)},off:function(e,n){o.off(e,n)}}}},569:(e,n,t)=>{t.d(n,{V:()=>u});var r=t(2784),o=t(4855),a=t(4392);const i={react:{icon:r.createElement(a.err,{width:"18",height:"18"}),title:"React"},angular:{icon:r.createElement(a.j3E,{width:"18",height:"18"}),title:"Angular"},vue2:{icon:r.createElement(a.IAF,{width:"18",height:"18"}),title:"Vue@2"},vue3:{icon:r.createElement(a.IAF,{width:"18",height:"18"}),title:"Vue@3"},svelte:{icon:r.createElement(a.qn2,{width:"18",height:"18"}),title:"Svelte"}};function u(e){const{tabs:n=["react","vue2","vue3","svelte"]}=e;return r.createElement(o.Z,{groupId:"options",defaultValue:"react",lazy:!0,values:n.map((e=>{const n=i[e];return{label:r.createElement("div",{className:"framework-wrapper"},n.icon,"  ",n.title),value:e,attributes:{"data-framework":e}}})),children:e.children})}},2169:(e,n,t)=>{t.d(n,{q:()=>a});var r=t(7808),o=t(2784);function a(e,n){var t=(0,o.useRef)(!0),a=(0,o.useMemo)((function(){return(0,r.tG)(e,n)}),[]),i=a.state(),u=(0,r.XP)(i),c=(0,o.useState)({})[0],s=function(e){var n=(0,o.useState)((function(){return i[e]}));c[e]={getter:!1,set:n[1],value:n[0]}};for(var l in i)s(l);t.current=!0;var f=(0,o.useMemo)((function(){return a.methods()}),[]);(0,o.useEffect)((function(){t.current=!1})),(0,o.useEffect)((function(){a.mounted();var e=a.instance();return u.forEach((function(n){e.subscribe(n,(function(e){c[n].value=e,c[n].getter&&c[n].set(e)}))})),a.init(),function(){a.destroy()}}),[]);var d=u.reduce((function(e,n){return f[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t.current&&(c[n].getter=!0),c[n].value}}),e}),{});return a.events().forEach((function(e){d[(0,r._A)("on ".concat(e))]=function(n,t){var r=(0,o.useMemo)((function(){return a.on(e,n),n}),t);(0,o.useEffect)((function(){return a.off(e,r),a.on(e,r),function(){a.off(e,r)}}),[r])}})),(0,r.XP)(f).forEach((function(e){d[e]=f[e]})),d}},6994:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>h,contentTitle:()=>m,default:()=>k,frontMatter:()=>p,metadata:()=>v,toc:()=>g});var r=t(8427),o=t(2784),a=t(876),i=(t(4855),t(4762)),u=(t(5449),t(569)),c=t(4198),s=t(2169),l=t(7808);const f=e=>{let{onInit:n,onDestroy:t,getProps:r}=e;const o=(0,l.qj)({isLoaded:!1}),a=r().ref,i=()=>{const e=a.value||a.current;o.isLoaded=!(!e.naturalWidth||!e.complete)};return n((()=>{const e=a.value||a.current;e?.addEventListener("load",i),i()})),t((()=>{const e=a.value||a.current;e?.removeEventListener("load",i)})),o};function d(){const{isLoaded:e,ref:n}=function(){const e=(0,o.useRef)(null);return Object.assign((0,s.q)(f,(()=>({ref:e}))),{ref:e})}(),[t,r]=(0,o.useState)(""),{withBaseUrl:a}=(0,c.C)();return(0,o.useEffect)((()=>{const e=setTimeout((()=>{r(a("./tutorials/logo.png"))}),1e3);return()=>{clearTimeout(e)}}),[]),o.createElement("div",null,"Loaded: ",e?"loaded":"loading..."," ",o.createElement("br",null),o.createElement("img",{src:t,ref:n}))}const p={title:"useImageOnLoad",slug:"/examples/use-image-on-load",sidebar_position:2},m=void 0,v={unversionedId:"examples/useImageOnLoad",id:"examples/useImageOnLoad",title:"useImageOnLoad",description:"Indicates whether the image has been loaded.",source:"@site/docs/examples/useImageOnLoad.mdx",sourceDirName:"examples",slug:"/examples/use-image-on-load",permalink:"/cfcs/ko/docs/examples/use-image-on-load",draft:!1,editUrl:"https://github.com/naver/cfcs/edit/main/demo/docs/examples/useImageOnLoad.mdx",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"useImageOnLoad",slug:"/examples/use-image-on-load",sidebar_position:2},sidebar:"examples",previous:{title:"useGesture",permalink:"/cfcs/ko/docs/examples/use-gesture"},next:{title:"useKey",permalink:"/cfcs/ko/docs/examples/use-key"}},h={},g=[{value:"Reactive Adapter",id:"reactive-adapter",level:3},{value:"Frameworks",id:"frameworks",level:3}],y={toc:g},b="wrapper";function k(e){let{components:n,...t}=e;return(0,a.kt)(b,(0,r.Z)({},y,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Indicates whether the image has been loaded."),(0,a.kt)("p",null,"When ready, the state ",(0,a.kt)("inlineCode",{parentName:"p"},"isLoaded")," changes to ",(0,a.kt)("inlineCode",{parentName:"p"},"true"),"."),(0,a.kt)("div",{className:"app-container"},(0,a.kt)(d,{mdxType:"ImageOnLoadApp"})),(0,a.kt)("h3",{id:"reactive-adapter"},"Reactive Adapter"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'const REACTIVE_ADAPTER = ({ onInit, onDestroy, getProps }) => {\n  const obj = reactive({ isLoaded: false });\n  const ref = getProps().ref;\n\n  const onLoaded = () => {\n    const element = ref.value || ref.current;\n\n    obj.isLoaded = !!(element.naturalWidth && element.complete);\n  };\n  onInit(() => {\n    const element = ref.value || ref.current;\n\n    element?.addEventListener("load", onLoaded);\n    onLoaded();\n  });\n\n  onDestroy(() => {\n    const element = ref.value || ref.current;\n\n    element?.removeEventListener("load", onLoaded);\n  });\n  return obj;\n};\n')),(0,a.kt)("h3",{id:"frameworks"},"Frameworks"),(0,a.kt)(u.V,{mdxType:"FrameworkTabs"},(0,a.kt)(i.Z,{value:"react",mdxType:"TabItem"},(0,a.kt)("p",null,"You can create a Reactive Component by importing the ",(0,a.kt)("inlineCode",{parentName:"p"},"@cfcs/react")," module and using the ",(0,a.kt)("inlineCode",{parentName:"p"},"useReactive")," function."),(0,a.kt)("p",null),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},'import React from "react";\nimport { useReactive } from "@cfcs/react";\n\nfunction useImageOnLoad() {\n  const ref = React.useRef(null);\n\n  return Object.assign(useReactive(REACTIVE_ADAPTER, () => ({ ref })), {\n    ref,\n  });\n}\n')),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},'export function App() {\n  const { isLoaded, ref } = useImageOnLoad();\n\n  return <div>\n    Loaded: {isLoaded ? "loaded" : "loading..."} <br />\n    <img src="your image src" ref={ref} />\n  </div>;\n}\n'))),(0,a.kt)(i.Z,{value:"vue2",mdxType:"TabItem"},(0,a.kt)("p",null,"You can create a Reactive Component by importing the ",(0,a.kt)("inlineCode",{parentName:"p"},"@cfcs/vue2")," module and using the ",(0,a.kt)("inlineCode",{parentName:"p"},"useReactive")," function."),(0,a.kt)("p",null),(0,a.kt)("p",null,"Use ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/vuejs/composition-api"},(0,a.kt)("inlineCode",{parentName:"a"},"@vue/composition-api"))," if you are going to use it in Vue 2."),(0,a.kt)("p",null),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"# < 2.7\n$ npm install @cfcs/vue2\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},'import { ref } from "@vue/composition-api";\nimport { useReactive } from "@cfcs/vue2";\n\nfunction useImageOnLoad() {\n  const imgRef = ref(null);\n\n  return {\n    ...useReactive(REACTIVE_ADAPTER, () => ({ ref: imgRef })),\n    ref: imgRef,\n  };\n}\n')),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},'<template>\n  <div>\n    Loaded: {{isLoaded ? "loaded" : "loading..."}} <br />\n    <img src="your image src" ref="ref" />\n  </div>\n</template>\n<script>\nexport default {\n  setup() {\n    const {\n      isLoaded,\n      ref,\n    } = useImageOnLoad();\n\n    return {\n      isLoaded,\n      ref,\n    };\n  }\n}\n<\/script>\n'))),(0,a.kt)(i.Z,{value:"vue3",mdxType:"TabItem"},(0,a.kt)("p",null,"  You can create a Reactive Component by importing the ",(0,a.kt)("inlineCode",{parentName:"p"},"@cfcs/vue3")," module and using the ",(0,a.kt)("inlineCode",{parentName:"p"},"useReactive")," function."),(0,a.kt)("p",null),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"# >= 2.7\n$ npm install @cfcs/vue3\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},'import { ref } from "vue";\nimport { useReactive } from "@cfcs/vue3";\n\nfunction useImageOnLoad() {\n  const imgRef = ref(null);\n\n  return {\n    ...useReactive(REACTIVE_ADAPTER, () => ({ ref: imgRef })),\n    ref: imgRef,\n  };\n}\n')),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},'<template>\n  <div>\n    Loaded: {{isLoaded ? "loaded" : "loading..."}} <br />\n    <img src="your image src" ref="ref" />\n  </div>\n</template>\n<script>\nexport default {\n  setup() {\n    const {\n      isLoaded,\n      ref,\n    } = useImageOnLoad();\n\n    return {\n      isLoaded,\n      ref,\n    };\n  }\n}\n<\/script>\n'))),(0,a.kt)(i.Z,{value:"svelte",mdxType:"TabItem"},(0,a.kt)("p",null,"You can create a Reactive Component by importing the ",(0,a.kt)("inlineCode",{parentName:"p"},"@cfcs/svelte")," module and using the ",(0,a.kt)("inlineCode",{parentName:"p"},"useReactive")," function."),(0,a.kt)("p",null),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"$ npm install @cfcs/svelte\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},'import { useReactive, useRef } from "@cfcs/vue3";\n\nfunction useImageOnLoad() {\n  const ref = useRef(null);\n\n  return {\n    ...useReactive(REACTIVE_ADAPTER, () => ({ ref })),\n    ref,\n  };\n}\n')),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},'<script>\nconst {\n  ref: imgRef,\n  isLoaded,\n} = useImageOnLoad();\n\n<\/script>\n<div>\n  Loaded: {$isLoaded ? "loaded" : "loading..."} <br />\n  <img src="your image src" use:imgRef />\n</div>\n')))))}k.isMDXComponent=!0},876:(e,n,t)=>{t.d(n,{Zo:()=>l,kt:()=>m});var r=t(2784);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function u(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var c=r.createContext({}),s=function(e){var n=r.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},l=function(e){var n=s(e.components);return r.createElement(c.Provider,{value:n},e.children)},f="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},p=r.forwardRef((function(e,n){var t=e.components,o=e.mdxType,a=e.originalType,c=e.parentName,l=u(e,["components","mdxType","originalType","parentName"]),f=s(t),p=o,m=f["".concat(c,".").concat(p)]||f[p]||d[p]||a;return t?r.createElement(m,i(i({ref:n},l),{},{components:t})):r.createElement(m,i({ref:n},l))}));function m(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var a=t.length,i=new Array(a);i[0]=p;var u={};for(var c in n)hasOwnProperty.call(n,c)&&(u[c]=n[c]);u.originalType=e,u[f]="string"==typeof e?e:o,i[1]=u;for(var s=2;s<a;s++)i[s]=t[s];return r.createElement.apply(null,i)}return r.createElement.apply(null,t)}p.displayName="MDXCreateElement"}}]);